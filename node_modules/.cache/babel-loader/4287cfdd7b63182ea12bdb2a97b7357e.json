{"ast":null,"code":"var _jsxFileName = \"/home/eusebiuu/Documents/Software-engineering/React Project/Quiz/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport Input from \"./Input\";\nimport Select from \"./Select\";\nimport useFetch from \"./useFetch\";\nimport Button from \"./Button\";\nimport Loader from \"./Loader\";\nimport Question from \"./Question\";\nimport End from \"./End\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst table = {\n  \"sports\": 21,\n  \"history\": 23,\n  \"politics\": 24\n};\nconst categories = [\"sports\", \"history\", \"politics\"];\nconst difficulties = [\"easy\", \"medium\", \"hard\"];\nexport default function App() {\n  _s();\n\n  // use context\n  // error handling\n  // use dark theme\n  const [questionsCount, setQuestionsCount] = useState(10);\n  const [category, setCategory] = useState(\"sports\");\n  const [difficulty, setDifficulty] = useState(\"easy\");\n  const [questionIdx, setQuestionIdx] = useState(-1);\n  const [setup, SetSetup] = useState(true);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [questions, setQuestions] = useState([]);\n  const {\n    get,\n    loading\n  } = useFetch(\"https://opentdb.com/api.php?\");\n  useEffect(() => {\n    if (!setup) {\n      get(`amount=${questionsCount}&category=${table[category]}&difficulty=${difficulty}&type=multiple`).then(data => {\n        setQuestions(data.results);\n        setQuestionIdx(0);\n      }).catch(error => console.log(error));\n    }\n  }, [setup]);\n\n  function handleNextQuestion() {\n    setQuestionIdx(questionIdx => {\n      return questionIdx + 1;\n    });\n  }\n\n  function handleQuestionsCountChange(event) {\n    setQuestionsCount(event.target.value);\n  }\n\n  function handleCategoryChange(event) {\n    setCategory(event.target.value);\n  }\n\n  function handleDifficultyChange(event) {\n    setDifficulty(event.target.value);\n  }\n\n  function handleOptionChoose(isCorrect) {\n    setCorrectAnswers(correctAnswers + isCorrect);\n    handleNextQuestion();\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    SetSetup(false);\n  }\n\n  function handleQuizEnd() {\n    SetSetup(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [setup && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Setup Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: questionsCount,\n            onValueChange: handleQuestionsCountChange,\n            label: \"Number of questions\",\n            type: \"number\",\n            min: 1,\n            max: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            label: \"Select category\",\n            values: categories,\n            value: category,\n            onValueChange: handleCategoryChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            label: \"Select difficulty\",\n            values: difficulties,\n            value: difficulty,\n            onValueChange: handleDifficultyChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          special: true,\n          value: \"\",\n          onButtonClick: handleFormSubmit,\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), !setup && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Question, {\n          onOptionChoose: handleOptionChoose,\n          question: questions[min(questionIdx, questions.length - 1)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), questionIdx === questionsCount && /*#__PURE__*/_jsxDEV(End, {\n          good: correctAnswers,\n          total: questionsCount,\n          onQuizEnd: handleQuizEnd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 13\n  }, this);\n}\n\n_s(App, \"4nAxrBBraNqZS4ysVCSzVewKhsw=\", false, function () {\n  return [useFetch];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Input","Select","useFetch","Button","Loader","Question","End","table","categories","difficulties","App","questionsCount","setQuestionsCount","category","setCategory","difficulty","setDifficulty","questionIdx","setQuestionIdx","setup","SetSetup","correctAnswers","setCorrectAnswers","questions","setQuestions","get","loading","then","data","results","catch","error","console","log","handleNextQuestion","handleQuestionsCountChange","event","target","value","handleCategoryChange","handleDifficultyChange","handleOptionChoose","isCorrect","handleFormSubmit","preventDefault","handleQuizEnd","min","length"],"sources":["/home/eusebiuu/Documents/Software-engineering/React Project/Quiz/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport Input from \"./Input\";\nimport Select from \"./Select\";\nimport useFetch from \"./useFetch\";\nimport Button from \"./Button\"\nimport Loader from \"./Loader\"\nimport Question from \"./Question\";\nimport End from \"./End\";\n\nconst table = {\n    \"sports\": 21,\n    \"history\": 23,\n    \"politics\": 24,\n}\nconst categories = [\"sports\", \"history\", \"politics\"];\nconst difficulties = [\"easy\", \"medium\", \"hard\"];\n\nexport default function App() {\n    // use context\n    // error handling\n    // use dark theme\n    const [questionsCount, setQuestionsCount] = useState(10);\n    const [category, setCategory] = useState(\"sports\");\n    const [difficulty, setDifficulty] = useState(\"easy\");\n    const [questionIdx, setQuestionIdx] = useState(-1);\n    const [setup, SetSetup] = useState(true);\n    const [correctAnswers, setCorrectAnswers] = useState(0);\n    const [questions, setQuestions] = useState([]);\n    const {get, loading} = useFetch(\"https://opentdb.com/api.php?\");\n    \n    useEffect(() => {\n        if (!setup) {\n            get(`amount=${questionsCount}&category=${table[category]}&difficulty=${difficulty}&type=multiple`)\n            .then(data => {\n                setQuestions(data.results);\n                setQuestionIdx(0);\n            })\n            .catch(error => console.log(error));\n        }\n    }, [setup]);\n\n    function handleNextQuestion() {\n        setQuestionIdx((questionIdx) => {\n            return questionIdx + 1;\n        });\n    }\n\n    function handleQuestionsCountChange(event) {\n        setQuestionsCount(event.target.value);\n    }\n\n    function handleCategoryChange(event) {\n        setCategory(event.target.value);\n    }\n\n    function handleDifficultyChange(event) {\n        setDifficulty(event.target.value);\n    }\n\n    function handleOptionChoose(isCorrect) {\n        setCorrectAnswers(correctAnswers + isCorrect);\n        handleNextQuestion();\n    }\n\n    function handleFormSubmit(event) {\n        event.preventDefault();\n        SetSetup(false);\n    }\n\n    function handleQuizEnd() {\n        SetSetup(true);\n    }\n\n    return (<div>\n        {loading && <Loader />}\n        {!loading && <>\n            {setup && <>\n                <div className=\"row\">\n                    <h2>Setup Quiz</h2>\n                    <Input value={questionsCount} onValueChange={handleQuestionsCountChange} \n                    label=\"Number of questions\" type=\"number\" min={1} max={10} />\n                </div>\n                <div className=\"row\">\n                    <Select label={\"Select category\"} values={categories} value={category} onValueChange={handleCategoryChange} />\n                </div>\n                <div className=\"row\">\n                    <Select label={\"Select difficulty\"} values={difficulties} value={difficulty} onValueChange={handleDifficultyChange} />\n                </div>\n                <Button special value={\"\"} onButtonClick={handleFormSubmit}>Start</Button>\n            </>}\n            {!setup && <>\n                <Question onOptionChoose={handleOptionChoose} question={questions[min(questionIdx, questions.length - 1)]} />\n                {questionIdx === questionsCount && <End good={correctAnswers} total={questionsCount} onQuizEnd={handleQuizEnd} />}\n            </>}\n        </>}\n    </div>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}