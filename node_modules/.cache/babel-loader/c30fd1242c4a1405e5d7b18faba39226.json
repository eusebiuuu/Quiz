{"ast":null,"code":"var _jsxFileName = \"/home/eusebiuu/Documents/Software-engineering/React Project/Quiz/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport Input from \"./Input\";\nimport Select from \"./Select\";\nimport useFetch from \"./useFetch\";\nimport Button from \"./Button\";\nimport Loader from \"./Loader\";\nimport Question from \"./Question\";\nimport End from \"./End\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst table = {\n  \"sports\": 21,\n  \"history\": 23,\n  \"politics\": 24\n};\nconst categories = [\"sports\", \"history\", \"politics\"];\nconst difficulties = [\"easy\", \"medium\", \"hard\"];\nexport default function App() {\n  _s();\n\n  // error handling\n  // use dark theme\n  // emoji\n  // gitignore\n  const [questionsCount, setQuestionsCount] = useState(\"10\");\n  const [category, setCategory] = useState(\"sports\");\n  const [difficulty, setDifficulty] = useState(\"easy\");\n  const [questionIdx, setQuestionIdx] = useState(-1);\n  const [setup, SetSetup] = useState(true);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [questions, setQuestions] = useState(null);\n  const {\n    get,\n    loading\n  } = useFetch(\"https://opentdb.com/api.php?\");\n  const [light, setLight] = useState(true); // console.log(loading)\n\n  useEffect(() => {\n    // console.log(\"ijfrufeih\");\n    if (!setup) {\n      get(`amount=${questionsCount}&category=${table[category]}&difficulty=${difficulty}&type=multiple`).then(data => {\n        setQuestions(data.results);\n        setQuestionIdx(0);\n        setCorrectAnswers(0);\n      }).catch(error => console.log(error));\n    }\n  }, [setup]);\n  useEffect(() => {\n    if (!light) {\n      document.body.classList.add(\"dark\");\n    }\n\n    return () => {\n      document.body.classList.remove(\"dark\");\n    };\n  });\n\n  function handleNextQuestion() {\n    setQuestionIdx(oldQuestionIdx => {\n      return oldQuestionIdx + 1;\n    });\n  }\n\n  function handleQuestionsCountChange(event) {\n    // setQuestionsCount(Number.parseInt(event.target.value, 10));\n    setQuestionsCount(event.target.value);\n  }\n\n  function handleCategoryChange(event) {\n    setCategory(event.target.value);\n  }\n\n  function handleDifficultyChange(event) {\n    setDifficulty(event.target.value);\n  }\n\n  function handleOptionChoose(isCorrect) {\n    setCorrectAnswers(correctAnswers + isCorrect);\n    handleNextQuestion();\n  }\n\n  function handleFormSubmit() {\n    // console.log(\"jdiej\")\n    SetSetup(false);\n  }\n\n  function handleQuizEnd() {\n    SetSetup(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        children: light ? \"Light\" : \"Dark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), setup && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Setup Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: questionsCount,\n          onValueChange: handleQuestionsCountChange,\n          label: \"Number of questions\",\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Select category\",\n          values: categories,\n          value: category,\n          onValueChange: handleCategoryChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Select difficulty\",\n          values: difficulties,\n          value: difficulty,\n          onValueChange: handleDifficultyChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"special\",\n          value: \"\",\n          onButtonClick: handleFormSubmit,\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 23\n      }, this), !setup && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [questions && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(Question, {\n            onOptionChoose: handleOptionChoose,\n            good: correctAnswers,\n            current: questionIdx,\n            total: questionsCount,\n            question: questions[Math.min(questionIdx, questions.length - 1)]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(End, {\n          current: questionIdx,\n          good: correctAnswers,\n          total: questionsCount,\n          onQuizEnd: handleQuizEnd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(App, \"TDGI04Rz8O+87SC1B12MuBu/kPw=\", false, function () {\n  return [useFetch];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Input","Select","useFetch","Button","Loader","Question","End","table","categories","difficulties","App","questionsCount","setQuestionsCount","category","setCategory","difficulty","setDifficulty","questionIdx","setQuestionIdx","setup","SetSetup","correctAnswers","setCorrectAnswers","questions","setQuestions","get","loading","light","setLight","then","data","results","catch","error","console","log","document","body","classList","add","remove","handleNextQuestion","oldQuestionIdx","handleQuestionsCountChange","event","target","value","handleCategoryChange","handleDifficultyChange","handleOptionChoose","isCorrect","handleFormSubmit","handleQuizEnd","Math","min","length"],"sources":["/home/eusebiuu/Documents/Software-engineering/React Project/Quiz/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport Input from \"./Input\";\nimport Select from \"./Select\";\nimport useFetch from \"./useFetch\";\nimport Button from \"./Button\"\nimport Loader from \"./Loader\"\nimport Question from \"./Question\";\nimport End from \"./End\";\n\nconst table = {\n    \"sports\": 21,\n    \"history\": 23,\n    \"politics\": 24,\n}\nconst categories = [\"sports\", \"history\", \"politics\"];\nconst difficulties = [\"easy\", \"medium\", \"hard\"];\n\nexport default function App() {\n    // error handling\n    // use dark theme\n    // emoji\n    // gitignore\n    const [questionsCount, setQuestionsCount] = useState(\"10\");\n    const [category, setCategory] = useState(\"sports\");\n    const [difficulty, setDifficulty] = useState(\"easy\");\n    const [questionIdx, setQuestionIdx] = useState(-1);\n    const [setup, SetSetup] = useState(true);\n    const [correctAnswers, setCorrectAnswers] = useState(0);\n    const [questions, setQuestions] = useState(null);\n    const {get, loading} = useFetch(\"https://opentdb.com/api.php?\");\n    const [light, setLight] = useState(true);\n    // console.log(loading)\n    useEffect(() => {\n        // console.log(\"ijfrufeih\");\n        if (!setup) {\n            get(`amount=${questionsCount}&category=${table[category]}&difficulty=${difficulty}&type=multiple`)\n            .then(data => {\n                setQuestions(data.results);\n                setQuestionIdx(0);\n                setCorrectAnswers(0);\n            })\n            .catch(error => console.log(error));\n        }\n    }, [setup]);\n\n    useEffect(() => {\n        if (!light) {\n            document.body.classList.add(\"dark\");\n        }\n        return () => {\n            document.body.classList.remove(\"dark\");\n        }\n    })\n\n    function handleNextQuestion() {\n        setQuestionIdx((oldQuestionIdx) => {\n            return oldQuestionIdx + 1;\n        });\n    }\n\n    function handleQuestionsCountChange(event) {\n        // setQuestionsCount(Number.parseInt(event.target.value, 10));\n        setQuestionsCount(event.target.value);\n    }\n\n    function handleCategoryChange(event) {\n        setCategory(event.target.value);\n    }\n\n    function handleDifficultyChange(event) {\n        setDifficulty(event.target.value);\n    }\n\n    function handleOptionChoose(isCorrect) {\n        setCorrectAnswers(correctAnswers + isCorrect);\n        handleNextQuestion();\n    }\n\n    function handleFormSubmit() {\n        // console.log(\"jdiej\")\n        SetSetup(false);\n    }\n\n    function handleQuizEnd() {\n        SetSetup(true);\n    }\n\n    return (<>\n        {loading && <Loader />}\n        {!loading && <>\n            <Button >{light ? \"Light\" : \"Dark\"}</Button>\n            {setup && <div className=\"container\">\n                <h2>Setup Quiz</h2>\n                <Input value={questionsCount} onValueChange={handleQuestionsCountChange} \n                label=\"Number of questions\" type=\"number\" />\n                <Select label={\"Select category\"} values={categories} value={category} onValueChange={handleCategoryChange} />\n                <Select label={\"Select difficulty\"} values={difficulties} value={difficulty} onValueChange={handleDifficultyChange} />\n                <Button type=\"special\" value={\"\"} onButtonClick={handleFormSubmit}>Start</Button>\n            </div>}\n            {!setup && <>\n                {questions && <div className=\"container\">\n                    <Question onOptionChoose={handleOptionChoose} good={correctAnswers} current={questionIdx} total={questionsCount} \n                    question={questions[Math.min(questionIdx, questions.length - 1)]} />\n                </div>}\n                <End current={questionIdx} good={correctAnswers} total={questionsCount} onQuizEnd={handleQuizEnd} />\n            </>}\n        </>}\n    </>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}